{"version":3,"sources":["context/calculationContext.ts","components/Card/Card.tsx","components/Calculation/Calculation.tsx","api/useReisefradrag.ts","components/Form/FormContainer.tsx","components/header/Header.tsx","App.tsx","index.tsx"],"names":["CalculationContext","createContext","calculation","setCalculation","useCalculationContext","useContext","Card","children","className","Calculation","reisefradrag","useReiseFradag","useState","loading","setLoading","doTheFetch","postBody","a","body","options","method","headers","Accept","JSON","stringify","fetch","fetchedResult","json","response","console","error","FormContainer","postCalculation","values","initialValues","arbeidsreiser","km","antall","besoeksreiser","utgifterBomFergeEtc","onSubmit","setSubmitting","name","remove","push","length","map","arbeidsreise","index","htmlFor","placeholder","type","component","onClick","besoeksreise","disabled","Header","App","Provider","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a936d83e.chunk.js","sourcesContent":["import { createContext, useContext } from 'react';\r\n\r\nimport { IReisefradrag } from '../interfaces/IReisefradrag';\r\n/* eslint-disable @typescript-eslint/no-empty-function */\r\n\r\nexport type CalculationContent = {\r\n  calculation: IReisefradrag;\r\n  setCalculation: (calculation: IReisefradrag) => void;\r\n};\r\nexport const CalculationContext = createContext<CalculationContent>({\r\n  calculation: {} as IReisefradrag,\r\n  setCalculation: () => {}\r\n});\r\nexport const useCalculationContext = () => useContext(CalculationContext);\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\nexport default function Card({ children }) {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"container\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { useCalculationContext } from '../../context/calculationContext';\r\nimport Card from '../Card/Card';\r\nimport './style.scss';\r\n\r\nexport default function Calculation() {\r\n  const { calculation } = useCalculationContext();\r\n\r\n  return (\r\n    <div className=\"calculatonResultWrapper\">\r\n      {calculation?.reisefradrag && (\r\n        <Card>\r\n          <h2>Beregnet reisefradrag:</h2>\r\n          Du kan føre:\r\n          <h3>{calculation?.reisefradrag} kr</h3>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\n\r\nimport { useCalculationContext } from '../context/calculationContext';\r\nimport { IFormValues } from '../interfaces/IFormValues';\r\n\r\nconst url =\r\n  'https://9f22opit6e.execute-api.us-east-2.amazonaws.com/default/reisefradrag';\r\nconst createOptions = (body: IFormValues) => {\r\n  return {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json;charset=UTF-8'\r\n    },\r\n    body: JSON.stringify(body)\r\n  };\r\n};\r\n\r\nconst useReiseFradag = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { setCalculation } = useCalculationContext();\r\n\r\n  const doTheFetch = async (postBody: IFormValues) => {\r\n    setLoading(true);\r\n    const options = createOptions(postBody);\r\n\r\n    try {\r\n      const fetchedResult = await fetch(url, options);\r\n      const response = await fetchedResult.json();\r\n      setCalculation(response);\r\n    } catch (e) {\r\n      console.error('something went wrong', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return { loading, doTheFetch };\r\n};\r\n\r\nexport default useReiseFradag;\r\n","/* eslint-disable react/button-has-type */\r\n/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport {\r\n  Formik,\r\n  Form,\r\n  Field,\r\n  FormikHelpers,\r\n  FieldArray,\r\n  ErrorMessage\r\n} from 'formik';\r\nimport React from 'react';\r\n\r\nimport useReiseFradag from '../../api/useReisefradrag';\r\nimport { IFormValues } from '../../interfaces/IFormValues';\r\nimport Card from '../Card/Card';\r\n\r\nimport './style.scss';\r\n\r\nexport default function FormContainer() {\r\n  // TODO Fix any type\r\n\r\n  const { loading, doTheFetch } = useReiseFradag();\r\n\r\n  const postCalculation = async (values) => {\r\n    await doTheFetch(values);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formContainer\">\r\n      <Formik\r\n        initialValues={{\r\n          arbeidsreiser: [{ km: 0, antall: 0 }],\r\n          besoeksreiser: [{ km: 0, antall: 0 }],\r\n          utgifterBomFergeEtc: 0\r\n        }}\r\n        onSubmit={(\r\n          values: IFormValues,\r\n          { setSubmitting }: FormikHelpers<IFormValues>\r\n        ) => {\r\n          setSubmitting(false);\r\n          postCalculation(values);\r\n        }}\r\n      >\r\n        {({ values }) => (\r\n          <Form>\r\n            <Card>\r\n              <h2>Arbeidsreiser</h2>\r\n              <p>\r\n                Før antall kilometer og antall forekomster for arbeidsreiser\r\n              </p>\r\n              <FieldArray name=\"arbeidsreiser\">\r\n                {({ remove, push }) => (\r\n                  <div>\r\n                    {values.arbeidsreiser.length > 0 &&\r\n                      values.arbeidsreiser.map((arbeidsreise, index) => (\r\n                        <div\r\n                          className=\"row\"\r\n                          key={`arbeidsreiser-${arbeidsreise[index]}`}\r\n                        >\r\n                          <div className=\"col\">\r\n                            <label htmlFor={`arbeidsreiser.${index}.km`}>\r\n                              km\r\n                            </label>\r\n                            <Field\r\n                              name={`arbeidsreiser.${index}.km`}\r\n                              placeholder=\"0\"\r\n                              type=\"number\"\r\n                            />\r\n                            <ErrorMessage\r\n                              name={`arbeidsreiser.${index}.km`}\r\n                              component=\"div\"\r\n                              className=\"field-error\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            <label htmlFor={`arbeidsreiser.${index}.antall`}>\r\n                              antall\r\n                            </label>\r\n                            <Field\r\n                              name={`arbeidsreiser.${index}.antall`}\r\n                              placeholder=\"0\"\r\n                              type=\"number\"\r\n                            />\r\n                            <ErrorMessage\r\n                              name={`arbeidsreiser.${index}.antall`}\r\n                              component=\"div\"\r\n                              className=\"field-error\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            {values.arbeidsreiser.length > 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"secondary\"\r\n                                onClick={() => remove(index)}\r\n                              >\r\n                                fjern\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    <div className=\"row\">\r\n                      {' '}\r\n                      <div className=\"col\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"secondary\"\r\n                          onClick={() => push({ km: 0, antall: 0 })}\r\n                        >\r\n                          Add route\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </FieldArray>\r\n            </Card>\r\n            <Card>\r\n              <h2>Besøksreiser</h2>\r\n              <p>Før antall kilometer og antall forekomster for besøksreiser</p>\r\n              <FieldArray name=\"besoeksreiser\">\r\n                {({ remove, push }) => (\r\n                  <div>\r\n                    {values.besoeksreiser.length > 0 &&\r\n                      values.besoeksreiser.map((besoeksreise, index) => (\r\n                        <div\r\n                          className=\"row\"\r\n                          key={`besoeksreise-${besoeksreise[index]}`}\r\n                        >\r\n                          <div className=\"col\">\r\n                            <label htmlFor={`besoeksreiser.${index}.km`}>\r\n                              km\r\n                            </label>\r\n                            <Field\r\n                              name={`besoeksreiser.${index}.km`}\r\n                              placeholder=\"0\"\r\n                              type=\"number\"\r\n                            />\r\n                            <ErrorMessage\r\n                              name={`besoeksreiser.${index}.km`}\r\n                              component=\"div\"\r\n                              className=\"field-error\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            <label htmlFor={`besoeksreiser.${index}.antall`}>\r\n                              antall\r\n                            </label>\r\n                            <Field\r\n                              name={`besoeksreiser.${index}.antall`}\r\n                              placeholder=\"0\"\r\n                              type=\"number\"\r\n                            />\r\n                            <ErrorMessage\r\n                              name={`besoeksreiser.${index}.antall`}\r\n                              component=\"div\"\r\n                              className=\"field-error\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            {values.besoeksreiser.length > 1 && (\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"secondary\"\r\n                                onClick={() => remove(index)}\r\n                              >\r\n                                Fjern\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    <div className=\"row\">\r\n                      {' '}\r\n                      <div className=\"col\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"secondary\"\r\n                          onClick={() => push({ km: 0, antall: 0 })}\r\n                        >\r\n                          Legg til rute\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </FieldArray>\r\n            </Card>\r\n            <Card>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"utgifterBomFergeEtc\">Diverse utgifter</label>\r\n                  <Field name=\"utgifterBomFergeEtc\" type=\"number\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                Her kan du før utgifter for bom, ferge og andre\r\n              </div>\r\n            </Card>\r\n            <div className=\"button-wrapper\">\r\n              <button type=\"reset\" disabled={loading}>\r\n                reset\r\n              </button>\r\n              <button type=\"submit\" disabled={loading}>\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\n\nexport default function Header() {\n  return (\n    <header className=\"App-header\">\n      <h1>Reisefradrag beregner</h1>\n    </header>\n  );\n}\n","import React, { useState } from 'react';\n\nimport Calculation from './components/Calculation/Calculation';\nimport FormContainer from './components/Form/FormContainer';\nimport Header from './components/header/Header';\nimport { CalculationContext } from './context/calculationContext';\n\nimport './App.scss';\nimport { IReisefradrag } from './interfaces/IReisefradrag';\n\nfunction App() {\n  // TODO Fix any type\n  const [calculation, setCalculation] = useState<IReisefradrag>(\n    {} as IReisefradrag\n  );\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <CalculationContext.Provider value={{ calculation, setCalculation }}>\n        <FormContainer />\n        <Calculation />\n      </CalculationContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}